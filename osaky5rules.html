<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>urliui — Правила</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
  <style>
    :root {
      --bg: #0d0d0f;
      --surface: #141418;
      --surface-hover: #1c1c22;
      --border: #25252d;
      --text: #e6e6f0;
      --text-secondary: #a0a0b0;
      --accent: #6c5ce7;
      --accent-glow: rgba(108, 92, 231, 0.3);
      --radius: 16px;
      --curve: cubic-bezier(0.65, 0, 0.35, 1);
      --transition: all 0.4s var(--curve);
      --danger: #ff4757;
      --warning: #ffa502;
    }
    
    /* Счетчик для автоматической нумерации разделов */
    body {
      counter-reset: section-counter;
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
      margin: 0; padding: 0;
    }

    /* Фоновые частицы */
    #tsparticles {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
    }

    /* Шапка */
    header {
      position: fixed; top: 0; left: 0; width: 100%;
      background: rgba(13, 13, 15, 0.85);
      z-index: 100; padding: 16px 0;
      backdrop-filter: blur(12px); 
      border-bottom: 1px solid var(--border);
    }
    .header-inner {
      max-width: 900px; margin: 0 auto; padding: 0 24px;
      display: flex; justify-content: space-between; align-items: center; gap: 20px;
    }
    .logo { 
      font-size: 22px; font-weight: 800; color: var(--text); text-decoration: none; 
      letter-spacing: -0.5px;
    }
    .back-link {
      color: var(--text-secondary); text-decoration: none; font-size: 14px; font-weight: 500;
      transition: 0.2s;
    }
    .back-link:hover { color: var(--text); }

    /* Поиск */
    .search-container {
      position: relative;
      flex-grow: 1;
      max-width: 400px;
    }
    .search-input {
      width: 100%;
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      border-radius: 100px;
      padding: 10px 20px 10px 45px;
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
      outline: none;
      transition: var(--transition);
    }
    .search-input:focus {
      border-color: var(--accent);
      background: rgba(255,255,255,0.08);
      box-shadow: 0 0 0 4px var(--accent-glow);
    }
    .search-icon {
      position: absolute; left: 16px; top: 50%; transform: translateY(-50%);
      width: 16px; height: 16px; fill: var(--text-secondary);
      pointer-events: none;
    }

    /* Основной контейнер */
    .container { max-width: 800px; margin: 100px auto 100px; padding: 0 24px; }

    /* Навигация (чипсы) */
    .nav-chips {
      display: flex; justify-content: center; flex-wrap: wrap; gap: 8px; margin-bottom: 40px;
      padding-top: 20px;
    }
    .chip {
      padding: 8px 18px; background: var(--surface); border: 1px solid var(--border);
      border-radius: 100px; text-decoration: none; color: var(--text-secondary);
      font-size: 13px; font-weight: 600; transition: var(--transition);
      cursor: pointer;
    }
    .chip:hover { border-color: var(--accent); color: var(--text); transform: translateY(-2px); }
    .chip.active { background: var(--accent); border-color: var(--accent); color: white; }

    /* Секции правил */
    .rules-section {
      counter-increment: section-counter; /* Увеличиваем счетчик разделов */
      counter-reset: rule-counter;        /* Сбрасываем счетчик правил внутри раздела */
      margin-bottom: 60px;
      scroll-margin-top: 100px;
    }
    
    .section-title {
      font-size: 24px; font-weight: 800; margin-bottom: 20px;
      display: flex; align-items: center; gap: 12px;
      color: var(--text);
    }
    .section-title svg { width: 24px; height: 24px; fill: var(--accent); }

    /* Карточка правила */
    .rule-item {
      counter-increment: rule-counter; /* Увеличиваем счетчик правил (1.1, 1.2...) */
      background: var(--surface); 
      border: 1px solid var(--border);
      border-radius: var(--radius); 
      margin-bottom: 12px; 
      overflow: hidden;
      transition: var(--transition);
    }
    .rule-item:hover { border-color: rgba(108, 92, 231, 0.5); }
    
    .rule-header {
      padding: 18px 24px; cursor: pointer; display: flex;
      justify-content: space-between; align-items: center;
      user-select: none;
    }
    .rule-info { display: flex; align-items: center; gap: 15px; }
    
    /* АВТОМАТИЧЕСКАЯ НУМЕРАЦИЯ */
    .rule-number::before {
      content: counter(section-counter) "." counter(rule-counter);
      font-family: 'Inter', monospace; 
      color: var(--accent); 
      font-weight: 700;
      font-size: 15px;
      background: rgba(108, 92, 231, 0.1);
      padding: 4px 8px;
      border-radius: 6px;
    }
    
    .rule-name { font-weight: 600; font-size: 16px; color: var(--text); }
    .rule-chevron { width: 20px; height: 20px; fill: var(--text-secondary); transition: transform 0.4s var(--curve); }

    .rule-body { 
      display: grid; grid-template-rows: 0fr; 
      transition: grid-template-rows 0.4s var(--curve), opacity 0.4s; 
      opacity: 0; 
    }
    .rule-item.active .rule-body { grid-template-rows: 1fr; opacity: 1; }
    .rule-item.active .rule-header { background: rgba(255,255,255,0.02); }
    .rule-item.active .rule-chevron { transform: rotate(180deg); fill: var(--text); }
    
    .inner-content { overflow: hidden; padding: 0 24px 24px 24px; font-size: 15px; color: #ced0d6; }

    /* Подправила и теги */
    .sub-rule {
      margin-top: 16px; padding: 14px 18px;
      background: rgba(255, 255, 255, 0.03);
      border-left: 3px solid var(--accent);
      border-radius: 8px; font-size: 14px;
      line-height: 1.5;
    }
    .sub-rule.danger { border-left-color: var(--danger); background: rgba(255, 71, 87, 0.08); }
    
    .sub-tag {
      font-size: 11px; text-transform: uppercase; font-weight: 800;
      padding: 3px 8px; border-radius: 4px; margin-bottom: 6px; display: inline-block;
      background: var(--accent); color: white; letter-spacing: 0.5px;
    }
    .sub-tag.danger { background: var(--danger); }
    
    .highlight {
      background: rgba(255, 165, 2, 0.3);
      color: white;
      border-radius: 2px;
    }

    .no-results {
      text-align: center; color: var(--text-secondary); 
      padding: 40px; display: none;
    }

    @media (max-width: 700px) {
      .header-inner { flex-direction: column; gap: 10px; padding-bottom: 10px; }
      .search-container { width: 100%; max-width: none; }
      .container { margin-top: 140px; padding: 0 16px; }
      .rule-header { padding: 16px; }
      .rule-number::before { font-size: 13px; padding: 2px 6px; }
      .rule-name { font-size: 15px; }
    }
  </style>
</head>
<body>
  <div id="tsparticles"></div>
  
  <header>
    <div class="header-inner">
      <div style="display:flex; align-items:center; gap:20px; width: 100%; justify-content: space-between;">
        <a href="/" class="logo">urliui</a>
        <div class="search-container">
          <svg class="search-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
          <input type="text" class="search-input" id="ruleSearch" placeholder="Найти правило (например: докс, бан)...">
        </div>
        <a href="/" class="back-link">← Назад</a>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="nav-chips">
      <a href="#safety" class="chip">Безопасность</a>
      <a href="#etiquette" class="chip">Этикет</a>
      <a href="#hierarchy" class="chip">Иерархия</a>
      <a href="#admin" class="chip">Staff</a>
    </div>

    <main id="rulesContainer">
      
      <section id="safety" class="rules-section">
        <h2 class="section-title">
          <svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
          Безопасность и Контент
        </h2>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Конфиденциальность (Докс/Сват)</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Публикация личных данных участников или администрации без их согласия строго запрещена.
            <div class="sub-rule danger">
              <span class="sub-tag danger">Приложение А</span><br>
              Любая попытка деанонимизации или угрозы физической расправы ведет к моментальному бану во всей сети ресурсов urliui без права на обжалование.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Недопустимый контент (NSFW)</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Запрещена пересылка материалов 18+, шок-контента, порнографии и любых проявлений пошлости (включая шиппинг).
            <div class="sub-rule">
              <span class="sub-tag">Приложение Б</span><br>
              Сюда же относятся аватарки, стикеры и медиафайлы, содержащие эротический или вызывающий подтекст.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Политика и Вражда</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Категорически запрещено разжигание ненависти по любому признаку. Упоминание политики запрещено в любом контексте (даже в шутку).
            <div class="sub-rule danger">
              <span class="sub-tag danger">Zero Tolerance</span><br>
              Мы — аполитичное сообщество. Любой спор на эту тему или призыв к вражде карается перманентным баном.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Цифровая безопасность и Обман</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Запрещены: взлом аккаунтов (пользователей или администрации), поиск и использование уязвимостей в ботах, а также мошенничество.
            <div class="sub-rule danger">
              <span class="sub-tag danger">Scam</span><br>
              Любой обман на деньги, услуги или попытка кражи доступа к аккаунту приведет к блокировке.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Честная игра (Обход правил)</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Запрещено обходить правила, искать "лазейки" в формулировках, а также использовать дополнительные аккаунты (твинки) для обхода наказаний.
            <div class="sub-rule">
              <span class="sub-tag">Принцип</span><br>
              Наказание выдается человеку, а не аккаунту. Бан на основе распространяется на все ваши твинки.
            </div>
          </div></div>
        </div>
      </section>

      <section id="etiquette" class="rules-section">
        <h2 class="section-title">
          <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
          Культура общения
        </h2>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Деструктивное поведение</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Запрещен флуд, спам и провокационные вопросы, подразумевающие оскорбление (пример: "Ты адекватный?", "Ты тупой?").
            <div class="sub-rule">
              <span class="sub-tag">Токсичность</span><br>
              Вопросы, нацеленные на то, чтобы выставить собеседника в дурном свете или вывести на эмоции, приравниваются к оскорблениям.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Личные границы и хейт</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Запрещены оскорбления, насмешки над здоровьем, внешностью или личными неудачами. 
            <div class="sub-rule danger">
              <span class="sub-tag danger">Внимание</span><br>
              Если пользователь или администратор просит прекратить диалог или тему — вы обязаны это сделать. Игнорирование просьб = бан.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Рекламная деятельность</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Любая реклама (каналов, ботов, услуг) без личного одобрения Автора запрещена в любом виде (даже в ЛС участникам чата).
          </div></div>
        </div>
      </section>

      <section id="hierarchy" class="rules-section">
        <h2 class="section-title">
          <svg viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></svg>
          Власть и Порядок
        </h2>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Статус Администрации</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Администрация всегда права. Решения модераторов не подлежат обсуждению в общем чате. 
            <div class="sub-rule">
              <span class="sub-tag">Важно</span><br>
              Откатов наказаний не существует. Докапываться до формулировок правил — прямой путь в бан.
            </div>
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Взаимодействие с Автором</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Автор является высшей инстанцией. Если Автор занят — ждите. Навязчивый тег или спам в ЛС приведет к кику.
            <div class="sub-rule danger">
              <span class="sub-tag danger">Внересурсная этика</span><br>
              Если вы оскорбляете Автора на других площадках или в чужих чатах — вы будете забанены здесь автоматически.
            </div>
          </div></div>
        </div>
      </section>

      <section id="admin" class="rules-section">
        <h2 class="section-title">
          <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          Для Администрации
        </h2>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Объективность и хладнокровие</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Админ обязан пресекать любые конфликты в зародыше. Запрещено использовать полномочия для личных счетов.
          </div></div>
        </div>

        <div class="rule-item">
          <div class="rule-header">
            <div class="rule-info"><span class="rule-number"></span> <span class="rule-name">Лояльность системе</span></div>
            <svg class="rule-chevron" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
          </div>
          <div class="rule-body"><div class="inner-content">
            Админ не имеет права оспаривать решения других админов на глазах у участников. Все споры — только в закрытом стафф-чате.
          </div></div>
        </div>
      </section>

      <div class="no-results" id="noResults">
        Ничего не найдено ¯\_(ツ)_/¯
      </div>
    </main>
  </div>

  <script>
    // Инициализация частиц
    tsParticles.load("tsparticles", {
      fpsLimit: 60,
      particles: {
        number: { value: 25, density: { enable: true, area: 800 } },
        color: { value: "#6c5ce7" },
        opacity: { value: 0.15 },
        size: { value: { min: 1, max: 3 } },
        move: { enable: true, speed: 0.6, direction: "none", random: true, outModes: "out" },
        links: { enable: true, distance: 150, color: "#6c5ce7", opacity: 0.1, width: 1 }
      },
      interactivity: {
        events: { onHover: { enable: true, mode: "grab" } },
        modes: { grab: { distance: 140, links: { opacity: 0.3 } } }
      }
    });

    // Логика Аккордеона
    document.querySelectorAll('.rule-header').forEach(header => {
      header.addEventListener('click', () => {
        const item = header.parentElement;
        item.classList.toggle('active');
      });
    });

    // Навигация (Чипсы)
    const chips = document.querySelectorAll('.chip');
    chips.forEach(chip => {
      chip.addEventListener('click', function(e) {
        e.preventDefault();
        chips.forEach(c => c.classList.remove('active'));
        this.classList.add('active');
        const target = document.querySelector(this.getAttribute('href'));
        if(target) {
          window.scrollTo({ top: target.offsetTop - 120, behavior: 'smooth' });
        }
      });
    });

    // Intersection Observer для подсветки активного чипса при скролле
    const sections = document.querySelectorAll('section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting) {
          chips.forEach(chip => {
            chip.classList.toggle('active', chip.getAttribute('href') === '#' + entry.target.id);
          });
        }
      });
    }, { rootMargin: "-30% 0px -60% 0px" });
    sections.forEach(sec => observer.observe(sec));

    // Умный поиск
    const searchInput = document.getElementById('ruleSearch');
    const ruleItems = document.querySelectorAll('.rule-item');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', (e) => {
      const term = e.target.value.toLowerCase().trim();
      let hasVisible = false;

      // Очистка выделений (если были)
      // В простой реализации просто фильтруем блоки

      ruleItems.forEach(item => {
        const title = item.querySelector('.rule-name').textContent.toLowerCase();
        const content = item.querySelector('.inner-content').textContent.toLowerCase();
        
        if (title.includes(term) || content.includes(term)) {
          item.style.display = 'block';
          hasVisible = true;
          
          // Если поиск не пустой и есть совпадение - раскрываем
          if(term.length > 1) {
             item.classList.add('active');
          }
        } else {
          item.style.display = 'none';
          item.classList.remove('active');
        }
      });

      // Скрытие пустых секций
      document.querySelectorAll('.rules-section').forEach(section => {
        const visibleItems = section.querySelectorAll('.rule-item[style="display: block;"], .rule-item:not([style*="display: none"])');
        if (visibleItems.length === 0) {
          section.style.display = 'none';
        } else {
          section.style.display = 'block';
        }
      });

      noResults.style.display = hasVisible ? 'none' : 'block';
      
      // Если поиск очищен, сбрасываем состояние (сворачиваем всё, показываем всё)
      if (term === '') {
        ruleItems.forEach(item => {
          item.style.display = 'block';
          item.classList.remove('active');
        });
        document.querySelectorAll('.rules-section').forEach(s => s.style.display = 'block');
      }
    });
  </script>
</body>
  </html>
